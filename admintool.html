<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>TrinhHG Admin Tool</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 20px; background: #f0f4f8; margin:0; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 1000px; margin: 0 auto; }
        h1 { margin-top: 0; color: #1e3a8a; text-align: center; margin-bottom: 30px; }
        .section-box { border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin-bottom: 20px; position: relative; }
        .section-title { position: absolute; top: -10px; left: 15px; background: white; padding: 0 10px; font-weight: 700; color: #3b82f6; font-size: 13px; text-transform: uppercase; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .toggle-group { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px; }
        .toggle-btn { padding: 8px 15px; border: 1px solid #cbd5e1; background: white; color: #64748b; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 13px; flex: 1; text-align: center; }
        .toggle-btn.active { background: #2563eb; color: white; border-color: #2563eb; }
        input { padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; width: 100%; box-sizing: border-box; font-size: 14px; }
        .hidden { display: none; }
        .gen-btn { background: #1e40af; color: white; border: none; padding: 15px; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; width: 100%; transition: 0.2s; }
        .gen-btn:hover { background: #1d4ed8; }
        .output-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; background: #f8fafc; padding: 10px; border-radius: 6px; border: 1px dashed #cbd5e1; }
        .output-row input { font-family: monospace; background: white; font-size: 12px; color: #334155; }
        .copy-btn { background: #10b981; color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è KEY GENERATOR</h1>
        <div class="grid-2">
            <div>
                <div class="section-box">
                    <span class="section-title">1. Lo·∫°i Key & Status</span>
                    <div class="toggle-group" id="grp-status">
                        <div class="toggle-btn active" onclick="sel('grp-status', this, 'permanent')">OFFICIAL (Ch√≠nh th·ª©c)</div>
                        <div class="toggle-btn" onclick="sel('grp-status', this, 'temp')">TEMP (D√πng th·ª≠)</div>
                    </div>
                </div>
                <div class="section-box">
                    <span class="section-title">2. G√≥i Thi·∫øt B·ªã</span>
                    <div class="toggle-group" id="grp-cat">
                        <div class="toggle-btn active" onclick="sel('grp-cat', this, 2)">C√Å NH√ÇN (2)</div>
                        <div class="toggle-btn" onclick="sel('grp-cat', this, 15)">ƒê·ªòI NH√ìM (15)</div>
                        <div class="toggle-btn" onclick="sel('grp-cat', this, 'custom')">T√ôY CH·ªàNH</div>
                    </div>
                    <input type="number" id="inp-devices" class="hidden" placeholder="S·ªë thi·∫øt b·ªã...">
                </div>
            </div>
            <div>
                <div class="section-box">
                    <span class="section-title">3. Th·ªùi H·∫°n</span>
                    <div class="toggle-group" id="grp-dur">
                        <div class="toggle-btn" onclick="sel('grp-dur', this, 7*86400)">1 Tu·∫ßn</div>
                        <div class="toggle-btn active" onclick="sel('grp-dur', this, 30*86400)">1 Th√°ng</div>
                        <div class="toggle-btn" onclick="sel('grp-dur', this, 365*86400)">1 NƒÉm</div>
                        <div class="toggle-btn" onclick="sel('grp-dur', this, 'custom')">T√πy Ch·ªânh (Gi√¢y)</div>
                    </div>
                    <input type="number" id="inp-seconds" class="hidden" placeholder="Nh·∫≠p s·ªë gi√¢y...">
                </div>
                <div class="section-box">
                    <span class="section-title">4. Th√¥ng Tin Kh√°c</span>
                    <input type="text" id="inp-note" placeholder="Ghi ch√∫ (T√™n kh√°ch)...">
                    <div style="margin-top:10px; display:flex; align-items:center; gap:10px;">
                        <span style="font-size:13px; font-weight:600;">S·ªë l∆∞·ª£ng:</span>
                        <input type="number" id="inp-qty" value="1" min="1" style="width:80px;">
                    </div>
                </div>
            </div>
        </div>
        <button class="gen-btn" onclick="generate()">T·∫†O KEY NGAY</button>
        <div id="output-list" style="margin-top:20px;"></div>
    </div>
    <script>
        let config = { status: 'permanent', cat: 2, dur: 30*86400 };
        function sel(grpId, el, val) {
            document.querySelectorAll(`#${grpId} .toggle-btn`).forEach(b => b.classList.remove('active'));
            el.classList.add('active');
            if(grpId === 'grp-status') config.status = val;
            if(grpId === 'grp-cat') { config.cat = val; document.getElementById('inp-devices').classList.toggle('hidden', val !== 'custom'); }
            if(grpId === 'grp-dur') { config.dur = val; document.getElementById('inp-seconds').classList.toggle('hidden', val !== 'custom'); }
        }
        function generate() {
            const list = document.getElementById('output-list'); list.innerHTML = '';
            const qty = parseInt(document.getElementById('inp-qty').value) || 1;
            const maxDev = (config.cat === 'custom') ? parseInt(document.getElementById('inp-devices').value)||1 : config.cat;
            const seconds = (config.dur === 'custom') ? parseInt(document.getElementById('inp-seconds').value)||86400 : config.dur;
            const note = document.getElementById('inp-note').value.trim() || "Generated by Admin";
            for(let i=0; i<qty; i++) {
                const prefix = config.status === 'permanent' ? 'VIP-' : 'TEMP-';
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
                let rnd = ''; for(let j=0; j<11; j++) rnd += chars.charAt(Math.floor(Math.random() * chars.length));
                const key = prefix + rnd;
                const data = { duration_seconds: seconds, max_devices: maxDev, activated_at: null, expires_at: null, devices: [], note: qty > 1 ? `${note} #${i+1}` : note, type: config.status, status: config.status === 'permanent' ? 'official' : 'temp', created_at: new Date().toISOString() };
                const div = document.createElement('div'); div.className = 'output-row';
                div.innerHTML = `<div style="flex:1"><input type="text" value="${key}" id="k${i}" readonly style="font-weight:bold; color:#1e40af; margin-bottom:5px;"><input type="text" value='${JSON.stringify(data)}' id="v${i}" readonly style="color:#64748b;"></div><button class="copy-btn" onclick="copy('k${i}', 'v${i}')">COPY KV</button>`;
                list.appendChild(div);
            }
        }
        function copy(kid, vid) {
            const k = document.getElementById(kid).value; const v = document.getElementById(vid).value;
            navigator.clipboard.writeText(`Key: ${k}\nValue: ${v}`).then(() => alert('Copied!'));
        }
    </script>
</body>
</html>
