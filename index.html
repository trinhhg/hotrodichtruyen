<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EditTruyen VIP Tool - Trịnh Hg</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
</head>
<body>

    <div id="landing-page" class="landing-container">
        <header class="landing-header">
            <div class="logo">EditTruyen <span class="badge-pro">PRO</span></div>
            <a href="https://zalo.me/0917678211" target="_blank" class="contact-link">Liên hệ Admin</a>
        </header>

        <main class="hero-section">
            <h1 class="hero-title">Công Cụ Biên Tập Truyện <br> <span class="gradient-text">Chuyên Nghiệp & Tự Động</span></h1>
            <p class="hero-desc">Giải pháp tối ưu cho Editor: Thay thế hàng loạt, chuẩn hóa hội thoại và chia chương chỉ trong 1 click.</p>
            
            <div class="login-box">
                <div class="input-group">
                    <i class="fa-solid fa-key input-icon"></i>
                    <input type="text" id="keyInput" placeholder="Nhập Key kích hoạt (Ví dụ: VIP-XXXX)">
                </div>
                <button id="btnLogin" class="btn-hero">
                    <span>KÍCH HOẠT NGAY</span>
                    <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>
            
            <div id="pricing-widget" class="pricing-area"></div>
        </main>

        <section class="features-grid">
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-bolt"></i></div>
                <h3>Tốc Độ Xử Lý</h3>
                <p>Xử lý 100 chương truyện chỉ trong vài giây với thuật toán tối ưu.</p>
            </div>
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-comments"></i></div>
                <h3>Format Hội Thoại</h3>
                <p>Tự động nhận diện và định dạng lại hội thoại (xuống dòng, gạch đầu dòng).</p>
            </div>
            <div class="feature-card">
                <div class="icon-box"><i class="fa-solid fa-file-csv"></i></div>
                <h3>Import/Export</h3>
                <p>Dễ dàng quản lý data name bằng file CSV, hỗ trợ Regex mạnh mẽ.</p>
            </div>
        </section>

        <footer class="landing-footer">
            <p>© 2026 EditTruyen Tool. Developed by Trịnh Hg.</p>
        </footer>
    </div>

    <div id="main-app" class="app-container hidden"> 
        
        <header class="app-header">
            <div class="header-left">
                <div class="logo-small">ET</div>
                <div class="app-name">EditTruyen Tool</div>
                <div class="donate-tag">
                    <span class="pulse-dot"></span>
                    MB: 0917678211 (TRINH THI XUAN HUONG)
                </div>
            </div>
            <div class="header-right">
                <div class="vip-status"><i class="fa-solid fa-crown"></i> VIP MEMBER</div>
                <button id="btnLogout" class="btn-icon" title="Đăng xuất"><i class="fa-solid fa-power-off"></i></button>
            </div>
        </header>

        <div class="main-layout">
            <aside class="sidebar">
                <div class="sidebar-menu">
                    <div class="menu-label">CÔNG CỤ</div>
                    <button class="nav-btn active" data-tab="settings">
                        <i class="fa-solid fa-gear"></i> Cài đặt & Data
                    </button>
                    <button class="nav-btn" data-tab="replace">
                        <i class="fa-solid fa-pen-to-square"></i> Thay thế (Edit)
                    </button>
                    <button class="nav-btn" data-tab="split">
                        <i class="fa-solid fa-scissors"></i> Chia chương
                    </button>
                    
                    <div class="menu-label mt-20">HỆ THỐNG</div>
                    <div class="key-info-panel">
                        <div class="key-label">Key hiện tại:</div>
                        <div class="key-value" id="display-key">VIP-********</div>
                        <div class="progress-bg">
                            <div class="progress-bar" style="width: 80%"></div>
                        </div>
                        <div class="expire-date">Hết hạn: --/--/----</div>
                    </div>
                </div>
            </aside>

            <main class="content-area">
                
                <div id="settings" class="tab-content active">
                    <div class="settings-wrapper">
                        <div class="inner-sidebar">
                            <button class="sidebar-btn active" data-target="panel-replacements">Quản Lý Data</button>
                            <button class="sidebar-btn" data-target="panel-format">Cấu Hình Format</button>
                        </div>

                        <div class="inner-content">
                            <div id="panel-replacements" class="setting-panel active">
                                <div class="panel-top-bar">
                                    <div class="mode-selector">
                                        <label>Bộ Data:</label>
                                        <select id="mode-select" class="form-select"></select>
                                    </div>
                                    <div class="action-group-sm">
                                        <button id="add-mode" class="btn-text">+ Mới</button>
                                        <button id="rename-mode" class="btn-text">Đổi tên</button>
                                        <button id="delete-mode" class="btn-text text-danger">Xóa</button>
                                    </div>
                                </div>

                                <div class="config-toolbar">
                                    <button id="match-case" class="btn-toggle">Match Case</button>
                                    <button id="whole-word" class="btn-toggle">Whole Word</button>
                                    <button id="auto-caps" class="btn-toggle">Auto Caps</button>
                                    <div class="divider"></div>
                                    <button id="import-settings" class="btn-outline"><i class="fa-solid fa-upload"></i> Import CSV</button>
                                    <button id="export-settings" class="btn-outline"><i class="fa-solid fa-download"></i> Export CSV</button>
                                </div>
                                
                                <div class="advanced-input-group">
                                    <label>Ngoại lệ Auto Caps:</label>
                                    <div class="input-row">
                                        <input type="text" id="caps-exception" class="form-input" placeholder="jpg, png, com...">
                                        <button id="save-exception-btn" class="btn-primary-sm">Lưu</button>
                                    </div>
                                </div>

                                <div class="data-list-container custom-scrollbar">
                                    <div id="punctuation-list" class="list-items"></div>
                                    <div id="empty-state" class="empty-state hidden">
                                        <img src="https://cdn-icons-png.flaticon.com/512/4076/4076432.png" width="48" alt="Empty">
                                        <p>Chưa có dữ liệu thay thế</p>
                                    </div>
                                </div>

                                <div class="bottom-actions">
                                    <button id="add-pair" class="btn-secondary full-width"><i class="fa-solid fa-plus"></i> Thêm cặp mới</button>
                                    <button id="save-settings" class="btn-primary full-width"><i class="fa-solid fa-floppy-disk"></i> Lưu thay đổi</button>
                                </div>
                            </div>

                            <div id="panel-format" class="setting-panel">
                                <h3>Chọn kiểu hiển thị hội thoại</h3>
                                <div class="format-cards-grid">
                                    <div class="format-card" data-format="0">
                                        <div class="check-circle"></div>
                                        <div class="card-content">
                                            <h4>Nguyên bản</h4>
                                            <p>Giữ nguyên văn bản gốc.</p>
                                        </div>
                                    </div>
                                    <div class="format-card" data-format="1">
                                        <div class="check-circle"></div>
                                        <div class="card-content">
                                            <h4>Mẫu 1: Cùng dòng</h4>
                                            <p class="preview-text">Hắn cười: "Được thôi."</p>
                                        </div>
                                    </div>
                                    <div class="format-card" data-format="2">
                                        <div class="check-circle"></div>
                                        <div class="card-content">
                                            <h4>Mẫu 2: Xuống dòng</h4>
                                            <p class="preview-text">Hắn cười:<br><br>"Được thôi."</p>
                                        </div>
                                    </div>
                                    <div class="format-card" data-format="3">
                                        <div class="check-circle"></div>
                                        <div class="card-content">
                                            <h4>Mẫu 3: Gạch đầu dòng</h4>
                                            <p class="preview-text">Hắn cười:<br><br>- Được thôi.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="replace" class="tab-content">
                    <div class="editor-workspace">
                        <div class="editor-pane">
                            <div class="pane-head">
                                <span><i class="fa-solid fa-file-import"></i> Văn bản gốc</span>
                                <span id="input-word-count" class="badge-gray">0 Words</span>
                            </div>
                            <textarea id="input-text" class="editor-textarea custom-scrollbar" placeholder="Dán nội dung convert vào đây..."></textarea>
                            <div class="pane-action">
                                <button id="replace-button" class="btn-action pulse">THỰC HIỆN EDIT <i class="fa-solid fa-play"></i></button>
                            </div>
                        </div>

                        <div class="editor-pane">
                            <div class="pane-head">
                                <span><i class="fa-solid fa-file-export"></i> Kết quả</span>
                                <div class="stats-group">
                                    <span id="count-replace" class="badge-yellow">Rep: 0</span>
                                    <span id="count-caps" class="badge-blue">Caps: 0</span>
                                </div>
                            </div>
                            <div id="output-text" class="editor-output custom-scrollbar" contenteditable="false"></div>
                            <div class="pane-action">
                                <button id="copy-button" class="btn-success full-width"><i class="fa-solid fa-copy"></i> Sao chép kết quả</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="split" class="tab-content">
                    <div class="split-toolbar">
                        <div class="split-mode-group">
                            <label class="radio-label">
                                <input type="radio" name="split-type" value="count" checked> 
                                <span>Chia đều (Số phần)</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="split-type" value="regex"> 
                                <span>Chia theo Chương (Regex)</span>
                            </label>
                        </div>

                        <div id="split-type-count" class="split-controls">
                            <div class="number-buttons">
                                <button class="num-btn active" data-split="2">2</button>
                                <button class="num-btn" data-split="3">3</button>
                                <button class="num-btn" data-split="4">4</button>
                                <button class="num-btn" data-split="5">5</button>
                                <button class="num-btn" data-split="10">10</button>
                            </div>
                        </div>

                        <div id="split-type-regex" class="split-controls hidden">
                            <input type="text" id="split-regex-input" class="form-input" placeholder="Regex: ^(Chương|Chapter)\s+\d+">
                            <button id="clear-split-regex" class="btn-text text-danger">Xóa Cache</button>
                        </div>
                    </div>

                    <div class="split-layout">
                        <div class="split-input-area">
                            <div class="pane-head">
                                <span>Input Full</span>
                                <span id="split-input-word-count" class="badge-gray">0 Words</span>
                            </div>
                            <textarea id="split-input-text" class="editor-textarea custom-scrollbar" placeholder="Dán toàn bộ truyện vào đây..."></textarea>
                            <button id="split-action-btn" class="btn-primary full-width mt-10">TIẾN HÀNH CHIA</button>
                        </div>
                        
                        <div id="split-outputs-wrapper" class="split-grid-result custom-scrollbar">
                            </div>
                    </div>
                </div>

            </main>
        </div>
    </div>
    
    <div id="notification-container"></div>
    <script src="index.js"></script>
</body>
</html>
